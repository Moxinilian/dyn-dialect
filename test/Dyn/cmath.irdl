// RUN: dyn-opt %s | dyn-opt | FileCheck %s

module {
  // CHECK-LABEL: irdl.dialect cmath {
  irdl.dialect cmath {
    // CHECK: irdl.type real 
    irdl.type real

    // CHECK: irdl.type ccomplex
    irdl.type ccomplex {
      irdl.parameters(elementType: irdl.AnyOf<f32, f64>)
    }

    // CHECK: irdl.operation make_complex {
    // CHECK:   irdl.operands(re: cmath.real, im: cmath.real)
    // CHECK:   irdl.results(res: cmath.ccomplex<irdl.Any>)
    // CHECK: }
    irdl.operation make_complex {
      irdl.operands(re: cmath.real, im: cmath.real)
      irdl.results(res: cmath.ccomplex<irdl.Any>)
    }

    irdl.operation mul {
      irdl.operands(lhs: cmath.ccomplex<irdl.Any>, rhs: cmath.ccomplex<irdl.Any>)
      irdl.results(res: cmath.ccomplex<irdl.Any>)
    }

    irdl.operation norm {
      irdl.operands(c: cmath.ccomplex<irdl.Any>)
      irdl.results(res: cmath.real)
    }

    irdl.operation get_real {
      irdl.operands(c: cmath.ccomplex<irdl.Any>)
      irdl.results(res: cmath.real)
    }

    irdl.operation get_imaginary {
      irdl.operands(c: cmath.ccomplex<irdl.Any>)
      irdl.results(res: cmath.real)
    }
  }
}